{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","components/ErrorMessage.js","App.js","index.js"],"names":["Filter","search","handleSearchChange","value","onChange","PersonForm","addName","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","type","Persons","persons","onDeleteClick","map","person","key","id","name","number","onClick","baseUrl","Notification","message","length","className","ErrorMessage","App","useState","setPersons","setNewName","setNewNumber","setSearch","notification","setNotification","errorMessage","setErrorMessage","useEffect","console","log","axios","get","then","response","data","shownNames","filter","toLowerCase","includes","event","target","preventDefault","some","entry","window","confirm","find","p","updatedObject","newObject","put","update","updatedPerson","setTimeout","catch","error","post","create","concat","delete","remove","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4230c1fb.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({search, handleSearchChange}) => {\r\n    return (\r\n        <form>\r\n            <div>\r\n                filter shown with <input value={search} onChange={handleSearchChange} />\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({addName, newName, newNumber, handleNameChange, handleNumberChange }) => {\r\n    return (\r\n        <form onSubmit={addName}>\r\n            <div>\r\n                name:\r\n                <input value={newName} onChange={handleNameChange} />\r\n            </div>\r\n            <div>\r\n                number:\r\n                <input value={newNumber} onChange={handleNumberChange} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({ persons, onDeleteClick }) => (\r\n    persons.map(person => (\r\n        <div key={person.id}>\r\n            {person.name} {person.number}\r\n            <button onClick={() => onDeleteClick(person.id, person.name)}>delete</button>\r\n        </div>\r\n    )\r\n))\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = 'http://localhost:3001/api/persons'\r\n\r\nconst getAll = () => {\r\n    console.log('get all promise returned')\r\n    return axios.get(baseUrl)\r\n        .then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    console.log('create promise returned')\r\n    return axios.post(baseUrl, newObject)\r\n    .then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    return axios.put(`${baseUrl}/${id}`, newObject)\r\n        .then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    console.log('delete promise returned')\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n        .then(response => response.data)\r\n}\r\n\r\nexport { getAll, create, update, remove }","import React from 'react'\r\n\r\nconst Notification = ({message}) => {\r\n    if (message === null || message.length === 0) {\r\n        return null\r\n    }\r\n    return (\r\n        <div className=\"message\">\r\n            {message}\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Notification","import React from 'react'\r\n\r\nconst ErrorMessage = ({message}) => {\r\n    if (message === null || message.length === 0) {\r\n        return null\r\n    }\r\n    return (\r\n        <div className=\"errorMessage\">\r\n            {message}\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default ErrorMessage ","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport { getAll, create, update, remove } from './services/persons'\nimport Notification from './components/Notification'\nimport ErrorMessage from './components/ErrorMessage'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('a new name...')\n  const [newNumber, setNewNumber] = useState('555-555-5555')\n  const [search, setSearch] = useState('')\n  const [notification, setNotification] = useState('')\n  const [errorMessage, setErrorMessage] = useState('')\n\n  const fetchPersons = () => {\n    getAll()\n      .then(persons => {\n        setPersons(persons)\n        console.log('persons', persons);\n      })\n  }\n  useEffect(fetchPersons, [])\n\n  const addName = (event) => {\n    event.preventDefault()\n    if (persons.some(entry => entry.name === newName)) {\n      const replace = window.confirm(`${newName} is already added to phonebook. Replace the old number with a new one?`)\n      if (replace) {\n        const person = persons.find(p => p.name === newName)\n        const updatedObject = {\n          name: person.name,\n          number: newNumber\n        }\n\n        update(person.id, updatedObject)\n          .then(updatedPerson => {\n            setPersons(persons.map(p => p.name === updatedPerson.name ? updatedPerson : p))\n            setNewName('')\n            setNewNumber('')\n            setNotification(\n              `${person.name}'s number was updated to ${newNumber}`\n            )\n            setTimeout(() => {\n              setNotification(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setErrorMessage(\n              `Information on ${person.name} has already been removed from server`\n            )\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n            setPersons(persons.filter(p => p.id !== person.id))\n          })\n      }\n      return\n    }\n\n    const newObject = {\n      name: newName,\n      number: newNumber\n    }\n    create(newObject)\n      .then(person => {\n        setPersons(persons.concat(person))\n        setNewName('')\n        setNewNumber('')\n        setNotification(\n          `${person.name}'s number was added with number ${newNumber}`\n        )\n        setTimeout(() => {\n          setNotification(null)\n        }, 5000)\n      })\n  }\n\n  const shownNames = search.length > 0\n    ? persons.filter(person => person.name.toLowerCase().includes(search.toLowerCase()))\n    : persons\n\n  const deleteContact = (id, name) => {\n    const confirmed = window.confirm(`'Delete ${name}?`)\n    if (!confirmed) return\n\n    else\n      remove(id)\n        .then(response => {\n          setPersons(persons.filter(person => person.id !== id))\n        })\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    setSearch(event.target.value)\n  }\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification} />\n      <ErrorMessage message={errorMessage} />\n      <Filter search={search} handleSearchChange={handleSearchChange} />\n      <h2>add a new</h2>\n      <PersonForm addName={addName} newName={newName} newNumber={newNumber}\n        handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} />\n      <h2>Numbers</h2>\n      <Persons persons={shownNames} onDeleteClick={deleteContact} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}